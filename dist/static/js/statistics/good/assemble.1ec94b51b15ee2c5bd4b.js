webpackJsonp([31],{Doll:function(t,e,s){"use strict";function n(t){s("mnys")}Object.defineProperty(e,"__esModule",{value:!0});var o=s("Xxa5"),i=s.n(o),a=s("exGp"),c=s.n(a),r=s("Dd8w"),l=s.n(r),d=s("1sNz"),u=s("UIMx"),p=s("ABCa"),f=s("rHil"),h=s("dQSc"),b=s("1DHf"),v=s("jOlP"),x=s("YxJB"),m=s("3Lt7"),_=s("2sLL"),g=s("NYxO"),w=s("xJtg"),S={name:"goodAssemble",components:{ViewBox:d.a,Tabbar:u.a,XHeader:p.a,Group:f.a,Card:h.a,Cell:b.a,Spinner:v.a,Flexbox:x.a,FlexboxItem:m.a,XButton:_.a,Share:w.a},computed:l()({},Object(g.mapGetters)(["AssembleGood"]),{block:function(){return this.AssembleGood.download||[]}}),data:function(){return{loading:!0,error:!1,showAction:!1,share:{content:"试卷分享",title:"我的精选题组卷",href:""}}},methods:l()({},Object(g.mapActions)(["getStatisticsGoodAssemble","clearStatisticsDownload","getStatisticsAssemblUrl","setStatisticsGoodAssembleOrder","setStatisticsGoodAssembleList","clearStatisticsAssemble"]),{_getData:function(){var t=this;this.loading=!0,this.getStatisticsGoodAssemble().then(function(){t.error=!1,t.loading=!1}).catch(function(e){t.error=!0,t.loading=!1})},_shareSuccess:function(){this._getData(),this.clearStatisticsAssemble({type:"good"}),this.$router.go(-1)},_download:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.setStatisticsGoodAssembleList();case 3:return e.next=5,t.getStatisticsAssemblUrl({type:"good"}).then(function(e){t.share.href=e.data.data.url,t.showAction=!0});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,t,[[0,7]])}))()}}),beforeRouteEnter:function(t,e,s){s(function(t){"example"!==e.name&&t.clearStatisticsDownload({type:"good"}),t._getData()})},beforeRouteLeave:function(t,e,s){this.showAction&&(this.showAction=!1),s()}},y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view-box",{attrs:{"body-padding-top":"46px","body-padding-bottom":"40px"}},[s("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header"},slot:"header"},[s("x-header",{attrs:{"left-options":{backText:"精选练习"}}})],1),t._v(" "),s("div",{attrs:{slot:"default"},slot:"default"},[t._l(t.block,function(e,n){return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],key:n},[s("div",{staticClass:"weui-cells__title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.list,function(e,o){return s("card",{key:o},[s("div",{staticClass:"weui-panel__hd",staticStyle:{color:"#999999"},attrs:{slot:"header"},slot:"header"},[t._v("\n          "+t._s(e.chapterName)+"\n        ")]),t._v(" "),s("div",{attrs:{slot:"content"},on:{click:function(s){t.$router.push({name:"example",params:{subjectId:e.subject_id,grade:e.grade,id:e.exercisesId,type:1===e.form?"exercises":"lxexercises"}})}},slot:"content"},[s("div",{domProps:{innerHTML:t._s(e.stem)}}),t._v(" "),t._l(e.opt,function(e,n){return s("div",{key:n,staticStyle:{"padding-top":"5px"}},[t._v("\n            "+t._s(n)+"："),s("p",{staticStyle:{display:"inline-block"},domProps:{innerHTML:t._s(e)}})])})],2),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"weui-cell weui-cell_link"},[s("div",{staticClass:"weui-cell__bd"},[s("flexbox",[s("flexbox-item",{staticClass:"center",attrs:{span:4},nativeOn:{click:function(e){t.setStatisticsGoodAssembleOrder({type:"up",pindex:n,index:o})}}},[s("i",{staticClass:"icon iconfont icon-up"}),t._v("上移\n                ")]),t._v(" "),s("flexbox-item",{staticClass:"center",attrs:{span:4},nativeOn:{click:function(e){t.setStatisticsGoodAssembleOrder({type:"down",pindex:n,index:o})}}},[s("i",{staticClass:"icon iconfont icon-down"}),t._v("下移\n                ")]),t._v(" "),s("flexbox-item",{staticClass:"center",attrs:{span:4},nativeOn:{click:function(e){t.setStatisticsGoodAssembleOrder({type:"del",pindex:n,index:o})}}},[s("i",{staticClass:"icon iconfont icon-lajitong16"}),t._v("删除\n                ")])],1)],1)])])])})],2)}),t._v(" "),s("div",{staticStyle:{"text-align":"center",padding:"10px 0"}},[t.loading?s("spinner",{attrs:{type:"lines"}}):t.block.length?t.error?s("p",{staticStyle:{"font-size":"16px",color:"#4cc0be"},on:{click:function(e){t._getData()}}},[t._v("出错了点我重新加载")]):t._e():s("p",{staticStyle:{"font-size":"16px",color:"#4cc0be"}},[t._v("该科目还未组卷")])],1),t._v(" "),s("share",{attrs:{change:t.showAction,showAction:t.showAction,content:t.share.content,title:t.share.title,href:t.share.href},on:{"update:change":function(e){t.showAction=e},"on-share-success":function(e){t._shareSuccess()}}})],2),t._v(" "),s("tabbar",{directives:[{name:"show",rawName:"v-show",value:t.block&&t.block.length,expression:"block && block.length"}],staticStyle:{"background-color":"#4cc0be",color:"#fff"},attrs:{slot:"bottom"},slot:"bottom"},[s("flexbox-item",{staticStyle:{"font-size":".8rem","text-align":"center",padding:".25rem 0"},attrs:{span:12},nativeOn:{click:function(e){t._download()}}},[s("i",{staticClass:"icon iconfont icon-download"}),t._v("下载")])],1)],1)},A=[],k={render:y,staticRenderFns:A},C=k,G=s("VU/8"),O=n,j=G(S,C,!1,O,"data-v-00ce9ddc",null);e.default=j.exports},hhC0:function(t,e,s){e=t.exports=s("FZ+f")(!1),e.push([t.i,"\n.weui-btn + .weui-btn[data-v-00ce9ddc]{\r\n  margin-top:0;\n}\n.center[data-v-00ce9ddc]{\r\n  text-align:center;\n}\r\n",""])},mnys:function(t,e,s){var n=s("hhC0");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s("rjj0")("e61e858e",n,!0)}});