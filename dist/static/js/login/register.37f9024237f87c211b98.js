webpackJsonp([70],{Fiug:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("Dd8w"),n=i.n(o),s=i("pDNl"),a=i("rHil"),r=i("1sNz"),l=i("2sLL"),c=i("YxJB"),d=i("3Lt7"),u=i("ABCa"),h=i("1DHf"),b=i("62KO"),m=i("NYxO"),f={components:{XInput:s.a,Group:a.a,ViewBox:r.a,XButton:l.a,Flexbox:c.a,FlexboxItem:d.a,XHeader:u.a,Cell:h.a,Confirm:b.a},data:function(){return{disableMobile:!1,disableNext:!1,currentDown:!1,confirmShow:!1,cover:!1,mobile:"",code:"",btnValue:"获取验证码","is-code":function(t){return 6===t.length}}},methods:n()({},Object(m.mapActions)(["getRegisterCode"]),{_changeMoblie:function(){this.disableMobile=this.$refs.mobile.valid&&!this.currentDown},_changeCode:function(){this.disableNext=this.$refs.mobile.valid&&this.$refs.code.valid},_quit:function(t){var e=this;"确认"===t&&(this.cover=!0,this.getRegisterCode({cover:this.cover,mobile:this.mobile}).then(function(){e.$vux.toast.show({text:"注册码已发送",type:"text",time:1500,position:"bottom"})}))},_next:function(){this.registerCode.toString()===this.code.toString()?this.$router.replace({path:"setPassword",registerMobile:this.mobile}):(this.code="",this.$vux.toast.show({text:"验证码错误",type:"text",time:1500,position:"bottom"}))},_getCode:function(){var t=this;if(!this.currentDown){this.currentDown=!0;var e=60,i=setInterval(function(){e--,t.btnValue="已发送("+e+")","0"===e.toString()&&(clearInterval(i),t.btnValue="获取验证码",t.currentDown=!1)},1e3),o={cover:this.cover,mobile:this.mobile};this.getRegisterCode(o)}}}),watch:{currentDown:function(){this.disableMobile=this.$refs.mobile.valid&&!this.currentDown}},computed:n()({},Object(m.mapGetters)(["registerCode","registerMobile"]))},p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view-box",{staticClass:"register"},[o("div",{staticStyle:{position:"absolute",left:"0",top:"0",width:"100%","z-index":"1"},attrs:{slot:"header"},slot:"header"},[o("x-header",{staticStyle:{position:"fixed",left:"0",top:"0",width:"100%"},attrs:{"left-options":{showBack:!0}}},[t._v("用户注册")])],1),t._v(" "),o("div",{staticStyle:{"padding-top":"46px"}},[o("div",{staticClass:"icon"},[o("img",{attrs:{src:i("ZSgq")}})]),t._v(" "),o("div",{staticClass:"title"},[o("img",{attrs:{src:i("0ivl")}})]),t._v(" "),o("group",{staticClass:"weui_cells_form"},[o("x-input",{ref:"mobile",attrs:{name:"mobile",placeholder:"手机号",keyboard:"number","is-type":"china-mobile"},on:{"on-change":t._changeMoblie},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),o("div",{staticClass:"weui-cell",staticStyle:{padding:"0"}},[o("div",{staticStyle:{width:"60%"}},[o("x-input",{ref:"code",attrs:{name:"code",placeholder:"验证码",keyboard:"number",min:6,max:6,"is-type":"is-code"},on:{"on-change":t._changeCode},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),t._v(" "),o("div",{staticStyle:{width:"40%"}},[o("x-button",{staticStyle:{height:"2.65em","border-radius":"0"},attrs:{slot:"right",text:t.btnValue,type:"primary",disabled:!t.disableMobile},nativeOn:{click:function(e){t._getCode(e)}},slot:"right"})],1)])],1),t._v(" "),o("flexbox",{attrs:{gutter:0,wrap:"wrap"}},[o("flexbox-item",{attrs:{span:.05}}),t._v(" "),o("flexbox-item",{attrs:{span:.9}},[o("group",[o("x-button",{attrs:{type:"primary",disabled:!t.disableNext},nativeOn:{click:function(e){t._next(e)}}},[t._v("下一步")])],1)],1),t._v(" "),o("flexbox-item",{attrs:{span:.05}})],1)],1),t._v(" "),o("confirm",{attrs:{show:t.confirmShow,"confirm-text":"确定","cancel-text":"取消",title:"已是教师用户,注册会清空数据"},on:{"update:show":function(e){t.confirmShow=e},"on-confirm":function(e){t._quit("确认")},"on-cancel":function(e){t._quit("取消")}}})],1)},v=[],x={render:p,staticRenderFns:v},g=x,w=i("VU/8"),_=w(f,g,!1,null,null,null);e.default=_.exports}});